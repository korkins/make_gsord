#Comment: $make   $make install   $make clean

F90SRC = AAA_TESTS_SORD_IP.f90 CSCATANG.f90 FORD_IP.f90 FORDM_IP.f90 FRESNELR0_IP.f90 FRESNELR_IP.f90 GAUSZW.f90 GROUPTAU.f90 NODES.f90 QX.f90\
         QX0.f90 RAYLEIGH12.f90 ROTATOR.f90 ROTATOR2.f90 ROUGHSRF.f90 RPV.f90 RTLS.f90 RTX.f90 SORD_IP.f90 SORDM_IP.f90\
	 SPLITTAU.f90 SSCAT1_IP.f90 SSCAT1M_IP.f90 SUMKA1B1.f90 SURFACE0_IP.f90 SURFACE0M_IP.f90 SURFACE_IP.f90 SURFACEM_IP.f90 SURFBNDM_IP.f90 SURFTOA_IP.f90\
	 Z0_IP.f90 ZAERM0_IP.f90 ZAERM_IP.f90 ZM0_IP.f90 ZM_IP.f90 ZRAYM0_IP.f90 ZRAYM_IP.f90

OFILES = ${F90SRC:.f90=.o}

FC=gfortran

SRCDIR = src

# HOME is system defined
INSTDIR = ${HOME}/mybins

COMPILEFLAGS = -c -O3

PROGRAM = sord

gsord.out : $(OFILES)
	${FC} $(OFILES) -o ${PROGRAM}

AAA_TESTS_SORD_IP.o : ${SRCDIR}/AAA_TESTS_SORD_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/AAA_TESTS_SORD_IP.f90

CSCATANG.o : ${SRCDIR}/CSCATANG.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/CSCATANG.f90

FORD_IP.o : ${SRCDIR}/FORD_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/FORD_IP.f90

FORDM_IP.o : ${SRCDIR}/FORDM_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/FORDM_IP.f90

FRESNELR0_IP.o : ${SRCDIR}/FRESNELR0_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/FRESNELR0_IP.f90

FRESNELR_IP.o : ${SRCDIR}/FRESNELR_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/FRESNELR_IP.f90

GAUSZW.o : ${SRCDIR}/GAUSZW.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/GAUSZW.f90

GROUPTAU.o : ${SRCDIR}/GROUPTAU.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/GROUPTAU.f90

NODES.o : ${SRCDIR}/NODES.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/NODES.f90

QX.o : ${SRCDIR}/QX.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/QX.f90

QX0.o : ${SRCDIR}/QX0.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/QX0.f90

RAYLEIGH12.o : ${SRCDIR}/RAYLEIGH12.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/RAYLEIGH12.f90

ROTATOR.o : ${SRCDIR}/ROTATOR.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/ROTATOR.f90

ROTATOR2.o : ${SRCDIR}/ROTATOR2.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/ROTATOR2.f90

ROUGHSRF.o : ${SRCDIR}/ROUGHSRF.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/ROUGHSRF.f90

RPV.o : ${SRCDIR}/RPV.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/RPV.f90

RTLS.o : ${SRCDIR}/RTLS.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/RTLS.f90

RTX.o : ${SRCDIR}/RTX.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/RTX.f90

SORD_IP.o : ${SRCDIR}/SORD_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/SORD_IP.f90

SORDM_IP.o : ${SRCDIR}/SORDM_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/SORDM_IP.f90

SPLITTAU.o : ${SRCDIR}/SPLITTAU.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/SPLITTAU.f90

SSCAT1_IP.o : ${SRCDIR}/SSCAT1_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/SSCAT1_IP.f90

SSCAT1M_IP.o : ${SRCDIR}/SSCAT1M_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/SSCAT1M_IP.f90

SUMKA1B1.o : ${SRCDIR}/SUMKA1B1.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/SUMKA1B1.f90

SURFACE0_IP.o : ${SRCDIR}/SURFACE0_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/SURFACE0_IP.f90

SURFACE0M_IP.o : ${SRCDIR}/SURFACE0M_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/SURFACE0M_IP.f90

SURFACE_IP.o : ${SRCDIR}/SURFACE_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/SURFACE_IP.f90

SURFACEM_IP.o : ${SRCDIR}/SURFACEM_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/SURFACEM_IP.f90

SURFBNDM_IP.o : ${SRCDIR}/SURFBNDM_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/SURFBNDM_IP.f90

SURFTOA_IP.o : ${SRCDIR}/SURFTOA_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/SURFTOA_IP.f90

Z0_IP.o : ${SRCDIR}/Z0_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/Z0_IP.f90

ZAERM0_IP.o : ${SRCDIR}/ZAERM0_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/ZAERM0_IP.f90

ZAERM_IP.o : ${SRCDIR}/ZAERM_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/ZAERM_IP.f90

ZM0_IP.o : ${SRCDIR}/ZM0_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/ZM0_IP.f90

ZM_IP.o : ${SRCDIR}/ZM_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/ZM_IP.f90

ZRAYM0_IP.o : ${SRCDIR}/ZRAYM0_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/ZRAYM0_IP.f90

ZRAYM_IP.o : ${SRCDIR}/ZRAYM_IP.f90
	${FC} $(COMPILEFLAGS) ${SRCDIR}/ZRAYM_IP.f90


install:
	cp ${PROGRAM} ${INSTDIR}/${PROGRAM}
	
clean:
	rm *.o ${PROGRAM}
	
